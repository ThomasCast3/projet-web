{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _bindEvents = require('../utils/bindEvents.js');\n\nvar _bindEvents2 = _interopRequireDefault(_bindEvents);\n\nvar _bindProps = require('../utils/bindProps.js');\n\nvar _mountableMixin = require('../utils/mountableMixin.js');\n\nvar _mountableMixin2 = _interopRequireDefault(_mountableMixin);\n\nvar _TwoWayBindingWrapper = require('../utils/TwoWayBindingWrapper.js');\n\nvar _TwoWayBindingWrapper2 = _interopRequireDefault(_TwoWayBindingWrapper);\n\nvar _WatchPrimitiveProperties = require('../utils/WatchPrimitiveProperties.js');\n\nvar _WatchPrimitiveProperties2 = _interopRequireDefault(_WatchPrimitiveProperties);\n\nvar _mapElementFactory = require('./mapElementFactory.js');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar props = {\n  zoom: {\n    twoWay: true,\n    type: Number\n  },\n  pov: {\n    twoWay: true,\n    type: Object,\n    trackProperties: ['pitch', 'heading']\n  },\n  position: {\n    twoWay: true,\n    type: Object,\n    noBind: true\n  },\n  pano: {\n    twoWay: true,\n    type: String\n  },\n  motionTracking: {\n    twoWay: false,\n    type: Boolean\n  },\n  visible: {\n    twoWay: true,\n    type: Boolean,\n    default: true\n  },\n  options: {\n    twoWay: false,\n    type: Object,\n    default: function _default() {\n      return {};\n    }\n  }\n};\nvar events = ['closeclick', 'status_changed'];\nexports.default = {\n  mixins: [_mountableMixin2.default],\n  props: (0, _mapElementFactory.mappedPropsToVueProps)(props),\n  replace: false,\n  // necessary for css styles\n  methods: {\n    resize: function resize() {\n      if (this.$panoObject) {\n        google.maps.event.trigger(this.$panoObject, 'resize');\n      }\n    }\n  },\n  provide: function provide() {\n    var _this = this;\n\n    var promise = new Promise(function (resolve, reject) {\n      _this.$panoPromiseDeferred = {\n        resolve: resolve,\n        reject: reject\n      };\n    });\n    return {\n      '$panoPromise': promise,\n      '$mapPromise': promise // so that we can use it with markers\n\n    };\n  },\n  computed: {\n    finalLat: function finalLat() {\n      return this.position && typeof this.position.lat === 'function' ? this.position.lat() : this.position.lat;\n    },\n    finalLng: function finalLng() {\n      return this.position && typeof this.position.lng === 'function' ? this.position.lng() : this.position.lng;\n    },\n    finalLatLng: function finalLatLng() {\n      return {\n        lat: this.finalLat,\n        lng: this.finalLng\n      };\n    }\n  },\n  watch: {\n    zoom: function zoom(_zoom) {\n      if (this.$panoObject) {\n        this.$panoObject.setZoom(_zoom);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n\n    return this.$gmapApiPromiseLazy().then(function () {\n      // getting the DOM element where to create the map\n      var element = _this2.$refs['vue-street-view-pano']; // creating the map\n\n      var options = _extends({}, _this2.options, (0, _bindProps.getPropsValues)(_this2, props));\n\n      delete options.options;\n      _this2.$panoObject = new google.maps.StreetViewPanorama(element, options); // binding properties (two and one way)\n\n      (0, _bindProps.bindProps)(_this2, _this2.$panoObject, props); // binding events\n\n      (0, _bindEvents2.default)(_this2, _this2.$panoObject, events); // manually trigger position\n\n      (0, _TwoWayBindingWrapper2.default)(function (increment, decrement, shouldUpdate) {\n        // Panos take a while to load\n        increment();\n\n        _this2.$panoObject.addListener('position_changed', function () {\n          if (shouldUpdate()) {\n            _this2.$emit('position_changed', _this2.$panoObject.getPosition());\n          }\n\n          decrement();\n        });\n\n        (0, _WatchPrimitiveProperties2.default)(_this2, ['finalLat', 'finalLng'], function updateCenter() {\n          increment();\n\n          _this2.$panoObject.setPosition(_this2.finalLatLng);\n        });\n      });\n\n      _this2.$panoPromiseDeferred.resolve(_this2.$panoObject);\n\n      return _this2.$panoPromise;\n    }).catch(function (error) {\n      throw error;\n    });\n  }\n};","map":{"version":3,"sources":["/Users/thomas/Documents/GitHub/projet-web/viewjs-mainpage/node_modules/vue2-google-maps/dist/components/streetViewPanoramaImpl.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_bindEvents","require","_bindEvents2","_interopRequireDefault","_bindProps","_mountableMixin","_mountableMixin2","_TwoWayBindingWrapper","_TwoWayBindingWrapper2","_WatchPrimitiveProperties","_WatchPrimitiveProperties2","_mapElementFactory","obj","__esModule","default","props","zoom","twoWay","type","Number","pov","trackProperties","position","noBind","pano","String","motionTracking","Boolean","visible","options","_default","events","mixins","mappedPropsToVueProps","replace","methods","resize","$panoObject","google","maps","event","trigger","provide","_this","promise","Promise","resolve","reject","$panoPromiseDeferred","computed","finalLat","lat","finalLng","lng","finalLatLng","watch","_zoom","setZoom","mounted","_this2","$gmapApiPromiseLazy","then","element","$refs","getPropsValues","StreetViewPanorama","bindProps","increment","decrement","shouldUpdate","addListener","$emit","getPosition","updateCenter","setPosition","$panoPromise","catch","error"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _bindEvents = require('../utils/bindEvents.js');\n\nvar _bindEvents2 = _interopRequireDefault(_bindEvents);\n\nvar _bindProps = require('../utils/bindProps.js');\n\nvar _mountableMixin = require('../utils/mountableMixin.js');\n\nvar _mountableMixin2 = _interopRequireDefault(_mountableMixin);\n\nvar _TwoWayBindingWrapper = require('../utils/TwoWayBindingWrapper.js');\n\nvar _TwoWayBindingWrapper2 = _interopRequireDefault(_TwoWayBindingWrapper);\n\nvar _WatchPrimitiveProperties = require('../utils/WatchPrimitiveProperties.js');\n\nvar _WatchPrimitiveProperties2 = _interopRequireDefault(_WatchPrimitiveProperties);\n\nvar _mapElementFactory = require('./mapElementFactory.js');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar props = {\n  zoom: {\n    twoWay: true,\n    type: Number\n  },\n  pov: {\n    twoWay: true,\n    type: Object,\n    trackProperties: ['pitch', 'heading']\n  },\n  position: {\n    twoWay: true,\n    type: Object,\n    noBind: true\n  },\n  pano: {\n    twoWay: true,\n    type: String\n  },\n  motionTracking: {\n    twoWay: false,\n    type: Boolean\n  },\n  visible: {\n    twoWay: true,\n    type: Boolean,\n    default: true\n  },\n  options: {\n    twoWay: false,\n    type: Object,\n    default: function _default() {\n      return {};\n    }\n  }\n};\n\nvar events = ['closeclick', 'status_changed'];\n\nexports.default = {\n  mixins: [_mountableMixin2.default],\n  props: (0, _mapElementFactory.mappedPropsToVueProps)(props),\n  replace: false, // necessary for css styles\n  methods: {\n    resize: function resize() {\n      if (this.$panoObject) {\n        google.maps.event.trigger(this.$panoObject, 'resize');\n      }\n    }\n  },\n\n  provide: function provide() {\n    var _this = this;\n\n    var promise = new Promise(function (resolve, reject) {\n      _this.$panoPromiseDeferred = { resolve: resolve, reject: reject };\n    });\n    return {\n      '$panoPromise': promise,\n      '$mapPromise': promise // so that we can use it with markers\n    };\n  },\n\n\n  computed: {\n    finalLat: function finalLat() {\n      return this.position && typeof this.position.lat === 'function' ? this.position.lat() : this.position.lat;\n    },\n    finalLng: function finalLng() {\n      return this.position && typeof this.position.lng === 'function' ? this.position.lng() : this.position.lng;\n    },\n    finalLatLng: function finalLatLng() {\n      return {\n        lat: this.finalLat,\n        lng: this.finalLng\n      };\n    }\n  },\n\n  watch: {\n    zoom: function zoom(_zoom) {\n      if (this.$panoObject) {\n        this.$panoObject.setZoom(_zoom);\n      }\n    }\n  },\n\n  mounted: function mounted() {\n    var _this2 = this;\n\n    return this.$gmapApiPromiseLazy().then(function () {\n      // getting the DOM element where to create the map\n      var element = _this2.$refs['vue-street-view-pano'];\n\n      // creating the map\n      var options = _extends({}, _this2.options, (0, _bindProps.getPropsValues)(_this2, props));\n      delete options.options;\n\n      _this2.$panoObject = new google.maps.StreetViewPanorama(element, options);\n\n      // binding properties (two and one way)\n      (0, _bindProps.bindProps)(_this2, _this2.$panoObject, props);\n      // binding events\n      (0, _bindEvents2.default)(_this2, _this2.$panoObject, events);\n\n      // manually trigger position\n      (0, _TwoWayBindingWrapper2.default)(function (increment, decrement, shouldUpdate) {\n        // Panos take a while to load\n        increment();\n\n        _this2.$panoObject.addListener('position_changed', function () {\n          if (shouldUpdate()) {\n            _this2.$emit('position_changed', _this2.$panoObject.getPosition());\n          }\n          decrement();\n        });\n\n        (0, _WatchPrimitiveProperties2.default)(_this2, ['finalLat', 'finalLng'], function updateCenter() {\n          increment();\n          _this2.$panoObject.setPosition(_this2.finalLatLng);\n        });\n      });\n\n      _this2.$panoPromiseDeferred.resolve(_this2.$panoObject);\n\n      return _this2.$panoPromise;\n    }).catch(function (error) {\n      throw error;\n    });\n  }\n};"]},"metadata":{},"sourceType":"script"}