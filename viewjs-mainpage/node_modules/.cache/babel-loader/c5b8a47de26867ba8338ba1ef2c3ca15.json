{"ast":null,"code":"import \"/public/leaflet.css\";\nimport { Icon } from 'leaflet';\nimport L from \"leaflet\";\nimport \"/public/Tween.js\";\nimport \"/public/leaflet.curve.js\";\nimport CreerTrajet from \"/src/assets/components/CreerTrajet.vue\";\ndelete Icon.Default.prototype._getIconUrl;\nIcon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png')\n});\nexport default {\n  name: \"LeafletMap\",\n  components: {\n    CreerTrajet\n  },\n\n  data() {\n    return {\n      map: null\n    };\n  },\n\n  mounted() {\n    this.map = L.map(\"mapContainer\").setView([46.05, 11.05], 5);\n    L.tileLayer(\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\", {\n      attribution: '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n    }).addTo(this.map); //use a mix of renderers\n\n    var customPane = this.map.createPane(\"customPane\");\n    var canvasRenderer = L.canvas({\n      pane: \"customPane\"\n    });\n    customPane.style.zIndex = 399; // put just behind the standard overlay pane which is at 400\n  },\n\n  onBeforeUnmount() {\n    if (this.map) {\n      this.map.remove();\n    }\n  },\n\n  methods: {\n    ajoutMarker(ville) {\n      for (let x = 0; x < 2; x++) {\n        var CPvillePos = \"\";\n        var CPvilleDest = \"\";\n        fetch(`https://geo.api.gouv.fr/communes?nom=${ville[x]}&fields=code,nom,centre`).then(response => response.json().then(data => {\n          for (let nomVille of data) {\n            let nameV = nomVille.nom;\n            console.log(ville);\n          }\n\n          var lng = data[0].centre.coordinates[0];\n          var lat = data[0].centre.coordinates[1];\n          L.marker([lat, lng]).addTo(this.map);\n        }));\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAWA,OAAO,qBAAP;AACA,SAASA,IAAT,QAAqB,SAArB;AACA,OAAOC,CAAP,MAAc,SAAd;AACA,OAAO,kBAAP;AACA,OAAO,0BAAP;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AAEA,OAAOF,IAAI,CAACG,OAAL,CAAaC,SAAb,CAAuBC,WAA9B;AACAL,IAAI,CAACG,OAAL,CAAaG,YAAb,CAA0B;AACxBC,eAAa,EAAEC,OAAO,CAAC,wCAAD,CADE;AAExBC,SAAO,EAAED,OAAO,CAAC,qCAAD,CAFQ;AAGxBE,WAAS,EAAEF,OAAO,CAAC,uCAAD;AAHM,CAA1B;AAMA,eAAe;AACbG,MAAI,EAAE,YADO;AAEbC,YAAU,EAAE;AACPV;AADO,GAFC;;AAKbW,MAAI,GAAG;AACL,WAAO;AACLC,SAAG,EAAE;AADA,KAAP;AAGD,GATY;;AAUbC,SAAO,GAAG;AACR,SAAKD,GAAL,GAAWb,CAAC,CAACa,GAAF,CAAM,cAAN,EAAsBE,OAAtB,CAA8B,CAAC,KAAD,EAAQ,KAAR,CAA9B,EAA8C,CAA9C,CAAX;AACAf,KAAC,CAACgB,SAAF,CAAY,0CAAZ,EAAwD;AACtDC,iBAAW,EACT;AAFoD,KAAxD,EAGGC,KAHH,CAGS,KAAKL,GAHd,EAFQ,CAMR;;AACA,QAAIM,UAAS,GAAI,KAAKN,GAAL,CAASO,UAAT,CAAoB,YAApB,CAAjB;AACA,QAAIC,cAAa,GAAIrB,CAAC,CAACsB,MAAF,CAAS;AAAEC,UAAI,EAAE;AAAR,KAAT,CAArB;AACAJ,cAAU,CAACK,KAAX,CAAiBC,MAAjB,GAA0B,GAA1B,CATQ,CASuB;AAEhC,GArBY;;AAsBbC,iBAAe,GAAG;AAChB,QAAI,KAAKb,GAAT,EAAc;AACZ,WAAKA,GAAL,CAASc,MAAT;AACF;AACD,GA1BY;;AA4BbC,SAAO,EAAC;AACJC,eAAW,CAACC,KAAD,EAAO;AACf,WAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAAC,CAAf,EAAiBA,CAAC,EAAlB,EAAqB;AACpB,YAAIC,UAAS,GAAI,EAAjB;AACA,YAAIC,WAAU,GAAG,EAAjB;AACEC,aAAK,CACR,wCAAuCJ,KAAK,CAACC,CAAD,CAAI,yBADxC,CAAL,CAEJI,IAFI,CAEEC,QAAD,IACLA,QAAQ,CAACC,IAAT,GAAgBF,IAAhB,CAAsBvB,IAAD,IAAU;AAC3B,eAAI,IAAI0B,QAAR,IAAoB1B,IAApB,EAAyB;AACrB,gBAAI2B,KAAI,GAAID,QAAQ,CAACE,GAArB;AACAC,mBAAO,CAACC,GAAR,CAAYZ,KAAZ;AACJ;;AACD,cAAIa,GAAE,GAAI/B,IAAI,CAAC,CAAD,CAAJ,CAAQgC,MAAR,CAAeC,WAAf,CAA2B,CAA3B,CAAV;AACA,cAAIC,GAAE,GAAGlC,IAAI,CAAC,CAAD,CAAJ,CAAQgC,MAAR,CAAeC,WAAf,CAA2B,CAA3B,CAAT;AACC7C,WAAC,CAAC+C,MAAF,CAAS,CAACD,GAAD,EAAKH,GAAL,CAAT,EAAoBzB,KAApB,CAA0B,KAAKL,GAA/B;AACC,SARL,CAHI;AAaF;AACD;;AAnBC;AA5BK,CAAf","names":["Icon","L","CreerTrajet","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","require","iconUrl","shadowUrl","name","components","data","map","mounted","setView","tileLayer","attribution","addTo","customPane","createPane","canvasRenderer","canvas","pane","style","zIndex","onBeforeUnmount","remove","methods","ajoutMarker","ville","x","CPvillePos","CPvilleDest","fetch","then","response","json","nomVille","nameV","nom","console","log","lng","centre","coordinates","lat","marker"],"sourceRoot":"","sources":["/Users/thomas/Documents/GitHub/projet-web/viewjs-mainpage/src/assets/components/MapTrajet.vue"],"sourcesContent":["<template>\n <div id=\"TrajetContainer\" >\n <CreerTrajet  @creer-Marker=\"ajoutMarker($event)\"/>\n\n  <div id=\"mapContainer\" >\n\n  </div>\n   </div>\n</template>\n\n<script>\nimport \"/public/leaflet.css\";\nimport { Icon } from 'leaflet';\nimport L from \"leaflet\";\nimport \"/public/Tween.js\";\nimport \"/public/leaflet.curve.js\";\nimport CreerTrajet from \"/src/assets/components/CreerTrajet.vue\";\n\ndelete Icon.Default.prototype._getIconUrl;\nIcon.Default.mergeOptions({\n  iconRetinaUrl: require('leaflet/dist/images/marker-icon-2x.png'),\n  iconUrl: require('leaflet/dist/images/marker-icon.png'),\n  shadowUrl: require('leaflet/dist/images/marker-shadow.png'),\n});\n\nexport default {\n  name: \"LeafletMap\",\n  components: {\n       CreerTrajet,\n  },\n  data() {\n    return {\n      map: null,\n    };\n  },\n  mounted() {\n    this.map = L.map(\"mapContainer\").setView([46.05, 11.05], 5);\n    L.tileLayer(\"https://{s}.tile.osm.org/{z}/{x}/{y}.png\", {\n      attribution:\n        '&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors',\n    }).addTo(this.map);\n    //use a mix of renderers\n    var customPane = this.map.createPane(\"customPane\");\n    var canvasRenderer = L.canvas({ pane: \"customPane\" });\n    customPane.style.zIndex = 399; // put just behind the standard overlay pane which is at 400\n   \n  },\n  onBeforeUnmount() {\n    if (this.map) {\n      this.map.remove();\n    }\n  },\n\n  methods:{\n      ajoutMarker(ville){\n         for(let x=0; x<2;x++){\n          var CPvillePos = \"\";\n          var CPvilleDest =\"\";\n            fetch(\n        `https://geo.api.gouv.fr/communes?nom=${ville[x]}&fields=code,nom,centre`\n      ).then((response) =>\n        response.json().then((data) => {\n            for(let nomVille of data){\n                let nameV = nomVille.nom;\n                console.log(ville)\n            }\n           var lng = data[0].centre.coordinates[0];\n           var lat =data[0].centre.coordinates[1];\n            L.marker([lat,lng]).addTo(this.map);\n            })\n            );\n          }\n        },\n  },\n}\n</script>\n\n<style scoped>\n#mapContainer {\n  width: 50vw;\n  height: 50vh;\n}\n\n#TrajetContainer {\n    \n    display: flex;\n    flex-wrap: wrap;\n    flex-direction: row;\n    align-items:center;\n    justify-content: space-between;\n}\n\n</style>"]},"metadata":{},"sourceType":"module"}